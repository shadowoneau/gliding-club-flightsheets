; ========================================================
; This file was generated by NSISDialogDesigner 1.1.2.0
; http://coolsoft.altervista.org/nsisdialogdesigner
; ========================================================

; handle variables
Var hCtl_GFSinstaller
Var hCtl_GFSinstaller_Label3
Var hCtl_GFSinstaller_DirRequest2_Txt
Var hCtl_GFSinstaller_DirRequest2_Btn
Var hCtl_GFSinstaller_Font1
Var hCtl_GFSinstaller_Font2


; dialog create function
Function fnc_GFSinstaller_Create
  
  ; custom font definitions
  CreateFont $hCtl_GFSinstaller_Font1 "Microsoft Sans Serif" "12" "400"
  CreateFont $hCtl_GFSinstaller_Font2 "Microsoft Sans Serif" "9.75" "400"
  
  ; === GFSinstaller (type: Dialog) ===
  nsDialogs::Create 1018
  Pop $hCtl_GFSinstaller
  ${If} $hCtl_GFSinstaller == error
    Abort
  ${EndIf}
  !insertmacro MUI_HEADER_TEXT "GGC Flight Sheets Install" "Flight Sheets Folder Selection"
  
  ; === Label3 (type: Label) ===
  ${NSD_CreateLabel} 8u 31u 284u 12u "Specify where the flight sheet files will be kept:"
  Pop $hCtl_GFSinstaller_Label3
  SendMessage $hCtl_GFSinstaller_Label3 ${WM_SETFONT} $hCtl_GFSinstaller_Font1 0
  
  ; === DirRequest2_Txt (type: Text) ===
  ${NSD_CreateText} 8u 53u 237u 12u "$Desktop\GGC_FlightSheets"
  Pop $hCtl_GFSinstaller_DirRequest2_Txt
  SendMessage $hCtl_GFSinstaller_DirRequest2_Txt ${WM_SETFONT} $hCtl_GFSinstaller_Font2 0
  
  ; === DirRequest2_Btn (type: Button) ===
  ${NSD_CreateButton} 246u 52u 46u 16u "Browse"
  Pop $hCtl_GFSinstaller_DirRequest2_Btn
  SendMessage $hCtl_GFSinstaller_DirRequest2_Btn ${WM_SETFONT} $hCtl_GFSinstaller_Font2 0
  ${NSD_OnClick} $hCtl_GFSinstaller_DirRequest2_Btn fnc_hCtl_GFSinstaller_DirRequest2_Click
  
FunctionEnd


; dialog show function
Function fnc_GFSinstaller_Show
  Call fnc_GFSinstaller_Create
  nsDialogs::Show $hCtl_GFSinstaller
FunctionEnd


; onClick handler for DirRequest Button $hCtl_GFSinstaller_DirRequest2_Btn
Function fnc_hCtl_GFSinstaller_DirRequest2_Click
	Pop $R0
	${If} $R0 == $hCtl_GFSinstaller_DirRequest2_Btn
		${NSD_GetText} $hCtl_GFSinstaller_DirRequest2_Txt $R0
		nsDialogs::SelectFolderDialog /NOUNLOAD "" "$R0"
		Pop $R0
		${If} "$R0" != "error"
			${NSD_SetText} $hCtl_GFSinstaller_DirRequest2_Txt "$R0"
		${EndIf}
	${EndIf}
FunctionEnd

; FooterCustomScript
Function fnc_GFSinstaller_Leave
  ${NSD_GetText} $hCtl_GFSinstaller_DirRequest2_Txt $R0
FunctionEnd

